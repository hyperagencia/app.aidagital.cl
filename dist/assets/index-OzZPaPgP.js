const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Boxve2f-.js","assets/vendor-BAsl6vX1.js","assets/creatorsService-1IPkqGh_.js","assets/index-TZShUO9a.js","assets/index-DHXZ1Rlu.js"])))=>i.map(i=>d[i]);
import{r as e,a as t,R as r}from"./vendor-BAsl6vX1.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var a={},s=e;a.createRoot=s.createRoot,a.hydrateRoot=s.hydrateRoot;const n={},i=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),r=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));a=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in n)return;n[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script"),s.crossOrigin="",s.href=e,r&&s.setAttribute("nonce",r),document.head.appendChild(s),t?new Promise((t,r)=>{s.addEventListener("load",t),s.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function s(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return a.then(t=>{for(const e of t||[])"rejected"===e.status&&s(e.reason);return e().catch(s)})};var o={exports:{}},l={},c=t,d=Symbol.for("react.element"),m=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,h=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g={key:!0,ref:!0,__self:!0,__source:!0};function p(e,t,r){var a,s={},n=null,i=null;for(a in void 0!==r&&(n=""+r),void 0!==t.key&&(n=""+t.key),void 0!==t.ref&&(i=t.ref),t)u.call(t,a)&&!g.hasOwnProperty(a)&&(s[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===s[a]&&(s[a]=t[a]);return{$$typeof:d,type:e,key:n,ref:i,props:s,_owner:h.current}}l.Fragment=m,l.jsx=p,l.jsxs=p,o.exports=l;var x=o.exports;const f={API_BASE:"https://aidadigital.cl/wp-content/themes/salient/api",APP_NAME:"UGC Creators Dashboard",APP_VERSION:"1.0.0",COMPANY_NAME:"AIDA Digital",NODE_ENV:"development",IS_DEVELOPMENT:!1,IS_PRODUCTION:!1,DEBUG:!1,STORAGE_PREFIX:"ugc_",AUTH_TOKEN_KEY:"authToken",AUTH_REFRESH_KEY:"refreshToken",DEBOUNCE_DELAY:300,PAGINATION_SIZE:25,MAX_FILE_SIZE:5242880,ALLOWED_FILE_TYPES:["image/jpeg","image/png","image/webp"],THEME:{PRIMARY_COLOR:"#9333ea",SECONDARY_COLOR:"#7c3aed",SUCCESS_COLOR:"#10b981",ERROR_COLOR:"#ef4444",WARNING_COLOR:"#f59e0b"},ROUTES:{HOME:"/",DASHBOARD:"/dashboard",CREATORS:"/creators",BRANDS:"/brands",PROJECTS:"/projects",USERS:"/users",LOGIN:"/login",LOGOUT:"/logout"},ENDPOINTS:{AUTH:{LOGIN:"/auth.php?action=login",LOGOUT:"/auth.php?action=logout",VERIFY:"/auth.php?action=verify",REFRESH:"/auth.php?action=refresh"},CREATORS:{LIST:"/creators.php",CREATE:"/creators.php",UPDATE:"/creators.php",DELETE:"/creators.php",EXPORT:"/creators.php?action=export"},BRANDS:{LIST:"/brands.php",CREATE:"/brands.php",UPDATE:"/brands.php",DELETE:"/brands.php"},PROJECTS:{LIST:"/projects.php",CREATE:"/projects.php",UPDATE:"/projects.php",DELETE:"/projects.php"},USERS:{LIST:"/users.php",CREATE:"/users.php",UPDATE:"/users.php",DELETE:"/users.php"},STATS:{DASHBOARD:"/stats.php?type=dashboard",CREATORS:"/stats.php?type=creators",BRANDS:"/stats.php?type=brands"}},VALIDATION:{EMAIL_REGEX:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,PHONE_REGEX:/^[+]?[\d\s\-\(\)]{8,}$/,MIN_PASSWORD_LENGTH:6,MIN_AGE:18,MAX_AGE:80},LOCALE:{DEFAULT_LANGUAGE:"es",DATE_FORMAT:"es-CL",CURRENCY:"CLP"},FEATURES:{ENABLE_REGISTRATION:!0,ENABLE_EXPORT:!0,ENABLE_NOTIFICATIONS:!1,ENABLE_ANALYTICS:!0,ENABLE_DARK_MODE:!1},ERRORS:{NETWORK:"Error de conexión. Verifica tu internet.",UNAUTHORIZED:"Sesión expirada. Inicia sesión nuevamente.",FORBIDDEN:"No tienes permisos para realizar esta acción.",NOT_FOUND:"El recurso solicitado no existe.",SERVER_ERROR:"Error del servidor. Intenta más tarde.",VALIDATION_ERROR:"Hay errores en el formulario.",UNKNOWN:"Ha ocurrido un error inesperado."},SUCCESS:{LOGIN:"Sesión iniciada correctamente",LOGOUT:"Sesión cerrada correctamente",SAVE:"Guardado exitosamente",DELETE:"Eliminado exitosamente",EXPORT:"Exportación completada",UPDATE:"Actualizado exitosamente"}},y=(...e)=>{},E=(e,t="")=>{};const b=new class{constructor(e=f.STORAGE_PREFIX){this.prefix=e,this.isAvailable=this.checkAvailability()}checkAvailability(){try{const e="test_storage";return localStorage.setItem(e,"test"),localStorage.removeItem(e),!0}catch(e){return!1}}getKey(e){return`${this.prefix}${e}`}set(e,t){if(!this.isAvailable)return!1;try{const r=JSON.stringify({value:t,timestamp:Date.now(),version:f.APP_VERSION});return localStorage.setItem(this.getKey(e),r),!0}catch(r){return!1}}get(e,t=null){if(!this.isAvailable)return t;try{const r=localStorage.getItem(this.getKey(e));if(!r)return t;const a=JSON.parse(r);return"object"==typeof a&&a.hasOwnProperty("value")?a.value:a}catch(r){return t}}getWithMetadata(e){if(!this.isAvailable)return null;try{const t=localStorage.getItem(this.getKey(e));return t?JSON.parse(t):null}catch(t){return null}}remove(e){if(!this.isAvailable)return!1;try{return localStorage.removeItem(this.getKey(e)),!0}catch(t){return!1}}clear(){if(!this.isAvailable)return!1;try{const e=[];for(let t=0;t<localStorage.length;t++){const r=localStorage.key(t);r&&r.startsWith(this.prefix)&&e.push(r)}return e.forEach(e=>localStorage.removeItem(e)),e.length,!0}catch(e){return!1}}getAll(){if(!this.isAvailable)return{};try{const e={};for(let t=0;t<localStorage.length;t++){const r=localStorage.key(t);if(r&&r.startsWith(this.prefix)){const t=r.replace(this.prefix,"");e[t]=this.get(t)}}return e}catch(e){return{}}}has(e){return!!this.isAvailable&&null!==localStorage.getItem(this.getKey(e))}getStorageSize(){if(!this.isAvailable)return 0;try{let e=0;for(let t=0;t<localStorage.length;t++){const r=localStorage.key(t);if(r&&r.startsWith(this.prefix)){const t=localStorage.getItem(r);e+=r.length+(t?t.length:0)}}return e}catch(e){return 0}}cleanExpired(){if(!this.isAvailable)return 0;try{let t=0;const r=Date.now(),a=[];for(let s=0;s<localStorage.length;s++){const t=localStorage.key(s);if(t&&t.startsWith(this.prefix))try{const e=JSON.parse(localStorage.getItem(t));e.expiry&&e.expiry<r&&a.push(t)}catch(e){}}return a.forEach(e=>{localStorage.removeItem(e),t++}),t}catch(t){return 0}}export(){return{data:this.getAll(),timestamp:Date.now(),version:f.APP_VERSION}}import(e){try{if(!e.data||"object"!=typeof e.data)throw new Error("Invalid backup format");let t=0;return Object.entries(e.data).forEach(([e,r])=>{this.set(e,r)&&t++}),t}catch(t){return 0}}},N=e=>b.set(f.AUTH_TOKEN_KEY,e),v=()=>b.get(f.AUTH_TOKEN_KEY),w=()=>{b.remove(f.AUTH_TOKEN_KEY),b.remove(f.AUTH_REFRESH_KEY)};const A=new class{constructor(){this.baseEndpoint="",this.isDevelopment=!0,this.isDevelopment,this.isDevelopment||this.setupApiInterceptor()}async login(e){try{if(this.isDevelopment,!e.email||e.email.length<3)throw new Error("Email requerido");if(!e.password||e.password.length<1)throw new Error("Contraseña requerida");return e.email,await this.mockLogin(e)}catch(t){throw t}}async mockLogin(e){await new Promise(e=>setTimeout(e,800));const{email:t,password:r}=e,a={"admin@aidadigital.cl":{id:1,name:"Admin AIDA",email:"admin@aidadigital.cl",role:"admin",permissions:["all"]},"user@aidadigital.cl":{id:2,name:"Usuario Demo",email:"user@aidadigital.cl",role:"user",permissions:["view_creators"]}};if(!a[t]){const e={id:999,name:"Usuario Genérico",email:t,role:"user",permissions:["view_creators"]},r=`mock_token_${Date.now()}`;return N(r),{success:!0,user:e,token:r}}const s=a[t],n=`mock_token_${Date.now()}`;return N(n),{success:!0,user:s,token:n}}async logout(){this.clearAuthData()}async verifyToken(){const e=v();if(!e)return null;if(!e.startsWith("mock_token_"))return this.clearAuthData(),null;await new Promise(e=>setTimeout(e,200));return{id:1,name:"Admin AIDA",email:"admin@aidadigital.cl",role:"admin",permissions:["all"]}}clearAuthData(){w()}setupApiInterceptor(){}refreshToken(){return this.verifyToken()}isAuthenticated(){return!!v()}getToken(){return v()}validateLogin(e){return{isValid:!0,errors:{}}}},j=t.createContext(null),S=({children:e})=>{const[r,a]=t.useState(null),[s,n]=t.useState(!0),[i,o]=t.useState(null);t.useEffect(()=>{l()},[]);const l=async()=>{try{n(!0),o(null);const e=await A.verifyToken();a(e||null)}catch(e){e.message,a(null),o(e.message)}finally{n(!1)}},c={user:r,loading:s,error:i,isAuthenticated:!!r,isAdmin:"admin"===(null==r?void 0:r.role),login:async e=>{try{n(!0),o(null);const t=await A.login(e);return t.success?(a(t.user),t.user,{success:!0}):(o(t.message),{success:!1,message:t.message})}catch(t){const e=t.message||f.ERRORS.UNKNOWN;return o(e),{success:!1,message:e}}finally{n(!1)}},logout:async()=>{try{return n(!0),await A.logout(),a(null),o(null),{success:!0}}catch(e){return e.message,a(null),o(null),{success:!0}}finally{n(!1)}},refreshAuth:async()=>{try{const e=await A.refreshToken();return e?(a(e),{success:!0}):(a(null),{success:!1})}catch(e){return e.message,a(null),{success:!1}}},updateProfile:async e=>{try{n(!0);const t=await A.updateProfile(e);return a(t),{success:!0,user:t}}catch(t){const e=t.message||f.ERRORS.UNKNOWN;return o(e),{success:!1,message:e}}finally{n(!1)}},changePassword:async e=>{try{n(!0);await A.changePassword(e);return{success:!0}}catch(t){const e=t.message||f.ERRORS.UNKNOWN;return o(e),{success:!1,message:e}}finally{n(!1)}},clearError:()=>{o(null)},checkAuth:l,hasPermission:e=>{var t;return!!r&&("admin"===r.role||((null==(t=r.permissions)?void 0:t.includes(e))||!1))},canAccess:e=>{if(!r)return!1;if("admin"===r.role)return!0;const t={creators:["view_creators"],brands:["view_brands","manage_brands"],users:["manage_users"],analytics:["view_analytics"]}[e];return!!t&&t.some(e=>{var t;return null==(t=r.permissions)?void 0:t.includes(e)})}};return x.jsx(j.Provider,{value:c,children:e})},_=()=>{const e=t.useContext(j);if(!e)throw new Error("useAuth debe usarse dentro de AuthProvider");return e},O=()=>{const{user:e,isAuthenticated:t,isAdmin:r}=_();return{isAuthenticated:t,isAdmin:r,canViewCreators:t,canCreateCreators:r,canEditCreators:r,canDeleteCreators:r,canExportCreators:t,canViewBrands:r,canCreateBrands:r,canEditBrands:r,canDeleteBrands:r,canViewUsers:r,canCreateUsers:r,canEditUsers:r,canDeleteUsers:r,canViewAnalytics:t,canExportData:t,canManageSettings:r,hasPermission:t=>{var a;return!!e&&(!!r||((null==(a=e.permissions)?void 0:a.includes(t))||!1))},canAccess:t=>{if(!e)return!1;if(r)return!0;const a={creators:["view_creators"],brands:["view_brands"],users:["manage_users"],analytics:["view_analytics"],settings:["manage_settings"]}[t];return!!a&&a.some(t=>{var r;return null==(r=e.permissions)?void 0:r.includes(t)})}}},R=({size:e="md",className:t="",...r})=>{const a={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"},s=a[e]||a.md;return x.jsx("div",{className:`loading-spinner border-purple-600 ${s} ${t}`,...r})},T={"hoteleria-turismo":"Hoteles y Turismo",gastronomia:"Gastronomía",cocteleria:"Coctelería y Vinos","panoramas-eventos":"Eventos",inmobiliaria:"Inmobiliaria",familia:"Familia",mascotas:"Mascotas",moda:"Moda",cosmetica:"Belleza",deporte:"Deporte",decoracion:"Decoración",lujo:"Lujo",tecnologia:"Tecnología",educacion:"Educación"},C={"menos-1000":"Menos de 1K","1000-4999":"1K-5K","5000-9999":"5K-10K","10000-24999":"10K-25K","25000-49999":"25K-50K","mas-50000":"50K+"},D={instagram:"Instagram",tiktok:"TikTok",youtube:"YouTube",otra:"Otra"},I=e=>e&&"string"==typeof e?e.charAt(0).toUpperCase()+e.slice(1):"",P=(e,t={})=>{if(!e)return"";const r=new Date(e);if(isNaN(r.getTime()))return"";const a={year:"numeric",month:"long",day:"numeric",...t};return r.toLocaleDateString(f.LOCALE.DATE_FORMAT,a)},L={formatInterests:e=>e&&Array.isArray(e)&&0!==e.length?e.map(e=>T[e]||e).join(", "):"Sin intereses",formatFollowersRange:e=>C[e]||e,formatPlatform:e=>D[e]||e,capitalize:I,formatFullName:(e,t)=>[e,t].filter(Boolean).join(" ").trim(),formatLocation:e=>e?e.replace("-"," ").replace(/\b\w/g,e=>e.toUpperCase()):"",formatNationality:e=>e?I(e):"",formatModality:e=>e?I(e):"",formatPhone:e=>{if(!e)return"";const t=e.replace(/\D/g,"");return t.startsWith("569")&&11===t.length?`+${t.slice(0,2)} ${t.slice(2,3)} ${t.slice(3,7)} ${t.slice(7)}`:t.length>10?`+${t}`:e},formatEmailPrivate:e=>{if(!e)return"";const[t,r]=e.split("@");if(!r)return e;return`${t.length>3?`${t.slice(0,2)}***${t.slice(-1)}`:t}@${r}`},formatDate:P,formatDateShort:e=>P(e,{year:"2-digit",month:"short",day:"numeric"}),formatTimeAgo:e=>{if(!e)return"";const t=new Date(e);if(isNaN(t.getTime()))return"";const r=new Date,a=Math.floor((r-t)/1e3);return a<60?"Hace un momento":a<3600?`Hace ${Math.floor(a/60)} minutos`:a<86400?`Hace ${Math.floor(a/3600)} horas`:a<2592e3?`Hace ${Math.floor(a/86400)} días`:P(e)},formatDuration:e=>{if(!e||e<0)return"0s";const t=Math.floor(e/3600),r=Math.floor(e%3600/60),a=e%60;return t>0?`${t}h ${r}m`:r>0?`${r}m ${a}s`:`${a}s`},formatFileSize:e=>{if(!e||0===e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return`${parseFloat((e/Math.pow(1024,t)).toFixed(2))} ${["B","KB","MB","GB","TB"][t]}`},formatNumber:(e,t={})=>{if("number"!=typeof e||isNaN(e))return"0";const r={minimumFractionDigits:0,maximumFractionDigits:0,...t};return e.toLocaleString(f.LOCALE.DATE_FORMAT,r)},formatPercentage:(e,t,r=1)=>{if(!e||!t||0===t)return"0%";return`${(e/t*100).toFixed(r)}%`},formatCurrency:(e,t="CLP")=>"number"!=typeof e||isNaN(e)?"$0":new Intl.NumberFormat(f.LOCALE.DATE_FORMAT,{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(e),formatSlug:e=>e?e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim():"",formatSearchText:e=>e?e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim():"",truncateText:(e,t=100,r="...")=>!e||e.length<=t?e:e.substring(0,t).trim()+r,formatList:(e,t=", ",r=" y ")=>e&&Array.isArray(e)&&0!==e.length?1===e.length?e[0]:2===e.length?e.join(r):e.slice(0,-1).join(t)+r+e[e.length-1]:"",getInitials:e=>e?e.split(" ").map(e=>e.charAt(0)).join("").toUpperCase().slice(0,2):"U",getAvatarColor:e=>{if(!e)return"bg-gray-500";const t=["bg-purple-500","bg-blue-500","bg-green-500","bg-yellow-500","bg-red-500","bg-indigo-500","bg-pink-500","bg-teal-500","bg-orange-500","bg-emerald-500","bg-cyan-500","bg-violet-500"];return t[e.length%t.length]}},$={Button:({children:e,variant:t="primary",size:r="md",disabled:a=!1,loading:s=!1,className:n="",icon:i,onClick:o,type:l="button",...c})=>{const d={primary:"btn-primary text-white focus:ring-purple-600",secondary:"btn-secondary text-gray-700 focus:ring-gray-300",ghost:"btn-ghost text-gray-600 hover:text-gray-900 focus:ring-gray-300",danger:"bg-red-500 text-white hover:bg-red-600 focus:ring-red-500",success:"bg-green-500 text-white hover:bg-green-600 focus:ring-green-500"},m={sm:"px-3 py-2 text-sm",md:"px-4 py-3 text-base",lg:"px-6 py-4 text-lg"},u=`btn-base transition-all-200 font-medium focus:outline-none focus:ring-4 focus:ring-opacity-30 ${d[t]||d.primary} ${m[r]||m.md} ${n} ${a||s?"loading-state":""}`;return x.jsx("button",{type:l,className:u,disabled:a||s,onClick:o,...c,children:s?x.jsxs("div",{className:"flex items-center justify-center gap-2",children:[x.jsx(R,{size:"sm"}),x.jsx("span",{children:"Cargando..."})]}):x.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i&&x.jsx("span",{children:i}),e]})})},Input:({label:e,error:t,helper:r,required:a=!1,className:s="",containerClassName:n="",...i})=>{const o=`input-base ${t?"error-state":""} ${s}`;return x.jsxs("div",{className:`space-y-2 ${n}`,children:[e&&x.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[e,a&&x.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),x.jsx("input",{className:o,...i}),t&&x.jsx("p",{className:"error-text",children:t}),r&&!t&&x.jsx("p",{className:"text-xs text-gray-500",children:r})]})},Select:({label:e,error:t,helper:r,required:a=!1,children:s,className:n="",containerClassName:i="",...o})=>{const l=`input-base ${t?"error-state":""} ${n}`;return x.jsxs("div",{className:`space-y-2 ${i}`,children:[e&&x.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[e,a&&x.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),x.jsx("select",{className:l,...o,children:s}),t&&x.jsx("p",{className:"error-text",children:t}),r&&!t&&x.jsx("p",{className:"text-xs text-gray-500",children:r})]})},Textarea:({label:e,error:t,helper:r,required:a=!1,className:s="",containerClassName:n="",rows:i=3,...o})=>{const l=`input-base resize-none ${t?"error-state":""} ${s}`;return x.jsxs("div",{className:`space-y-2 ${n}`,children:[e&&x.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[e,a&&x.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),x.jsx("textarea",{rows:i,className:l,...o}),t&&x.jsx("p",{className:"error-text",children:t}),r&&!t&&x.jsx("p",{className:"text-xs text-gray-500",children:r})]})},Card:({children:e,className:t="",hover:r=!1,padding:a="p-6",...s})=>{const n=`card-base ${a} ${r?"hover-shadow cursor-pointer":""} ${t}`;return x.jsx("div",{className:n,...s,children:e})},Badge:({children:e,variant:t="gray",size:r="md",className:a="",...s})=>{const n={gray:"badge-gray",purple:"badge-purple",green:"badge-green",red:"bg-red-100 text-red-700",yellow:"bg-yellow-100 text-yellow-700",blue:"bg-blue-100 text-blue-700"},i={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1",lg:"text-base px-4 py-2"},o=`badge ${n[t]||n.gray} ${i[r]||i.md} ${a}`;return x.jsx("span",{className:o,...s,children:e})},Spinner:R,Alert:({type:e="info",title:t,children:r,onClose:a,className:s="",...n})=>{const i={info:{container:"bg-blue-50 border-blue-200 text-blue-800",icon:"ℹ️"},success:{container:"bg-green-50 border-green-200 text-green-800",icon:"✅"},warning:{container:"bg-yellow-50 border-yellow-200 text-yellow-800",icon:"⚠️"},error:{container:"bg-red-50 border-red-200 text-red-800",icon:"❌"}},o=i[e]||i.info;return x.jsx("div",{className:`border rounded-xl p-4 ${o.container} ${s}`,...n,children:x.jsxs("div",{className:"flex items-start",children:[x.jsx("span",{className:"mr-3 text-lg",children:o.icon}),x.jsxs("div",{className:"flex-1",children:[t&&x.jsx("h4",{className:"font-semibold mb-1",children:t}),x.jsx("div",{className:"text-sm",children:r})]}),a&&x.jsx("button",{onClick:a,className:"ml-3 text-current opacity-70 hover:opacity-100 transition-opacity",children:"✕"})]})})},Avatar:({name:e,src:t,size:r="md",className:a="",...s})=>{const n={sm:"w-8 h-8 text-sm",md:"w-12 h-12 text-base",lg:"w-16 h-16 text-lg",xl:"w-20 h-20 text-xl"},i=n[r]||n.md,o=L.getAvatarColor(e||"");return t?x.jsx("img",{src:t,alt:e,className:`${i} rounded-full object-cover ${a}`,...s}):x.jsx("div",{className:`${i} rounded-full ${o} flex items-center justify-center text-white font-semibold ${a}`,...s,children:L.getInitials(e)})},Skeleton:({width:e="w-full",height:t="h-4",className:r="",...a})=>x.jsx("div",{className:`bg-gray-200 rounded animate-pulse ${e} ${t} ${r}`,...a})},U=()=>{const[e,r]=t.useState(""),[a,s]=t.useState(""),{login:n,isLogging:i,loginError:o,clearError:l}=(()=>{const{login:e}=_(),[r,a]=t.useState(!1),[s,n]=t.useState(null);return{login:async t=>{try{a(!0),n(null);const r=await e(t);return r.success||n(r.message),r}catch(r){return n(r.message),{success:!1,message:r.message}}finally{a(!1)}},isLogging:r,loginError:s,clearError:()=>n(null)}})();return x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center p-4",children:x.jsxs($.Card,{className:"w-full max-w-md p-8",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:x.jsx("span",{className:"text-2xl",children:"👥"})}),x.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"UGC Creators AIDA"}),x.jsx("p",{className:"text-gray-600",children:f.COMPANY_NAME})]}),x.jsxs("form",{onSubmit:async t=>{t.preventDefault(),l();(await n({email:e,password:a})).success},className:"space-y-6",children:[x.jsx($.Input,{label:"Email",type:"email",value:e,onChange:e=>r(e.target.value),placeholder:"tu@email.com",required:!0,disabled:i,error:o&&!e?"Email requerido":""}),x.jsx($.Input,{label:"Contraseña",type:"password",value:a,onChange:e=>s(e.target.value),placeholder:"••••••••",required:!0,disabled:i,error:o&&!a?"Contraseña requerida":""}),o&&x.jsx($.Alert,{type:"error",children:o}),x.jsx($.Button,{type:"submit",variant:"primary",className:"w-full",loading:i,disabled:i,icon:"🔐",children:i?"Iniciando sesión...":"Iniciar Sesión"})]}),x.jsx("div",{className:"mt-6 text-center",children:x.jsxs("p",{className:"text-xs text-gray-500",children:["v",f.APP_VERSION," • Desarrollado por ",f.COMPANY_NAME]})})]})})},k=()=>x.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:x.jsxs("div",{className:"text-center",children:[x.jsx($.Spinner,{size:"xl",className:"mx-auto mb-4"}),x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Verificando sesión..."}),x.jsx("p",{className:"text-gray-600 mb-2",children:"Un momento por favor"}),x.jsx("p",{className:"text-xs text-gray-500",children:"UGC Creators Dashboard"})]})}),M=({showEmail:e=!1,showRole:t=!1,size:r="md",className:a=""})=>{var s;const{user:n}=_();return n?x.jsxs("div",{className:`flex items-center ${a}`,children:[x.jsx($.Avatar,{name:n.name,src:n.avatar,size:r}),x.jsxs("div",{className:"ml-3",children:[x.jsx("p",{className:"text-sm font-medium text-gray-900",children:(null==(s=n.name)?void 0:s.split(" ")[0])||"Usuario"}),e&&x.jsx("p",{className:"text-xs text-gray-500",children:n.email}),t&&x.jsx($.Badge,{variant:"admin"===n.role?"purple":"gray",size:"sm",children:L.capitalize(n.role)})]})]}):null},B=({currentPage:e,onNavigate:r,isMobileOpen:a,onMobileClose:s})=>{const{user:n,logout:i}=_(),o=O(),[l,c]=t.useState(!1),d=[{id:"dashboard",label:"Dashboard",alwaysShow:!0},{id:"creators",label:"Creators",alwaysShow:!0},{id:"brands",label:"Marcas",requiresPermission:"canViewBrands"},{id:"users",label:"Usuarios",requiresPermission:"canViewUsers"}].filter(e=>!!e.alwaysShow||(!e.requiresPermission||o[e.requiresPermission]));return x.jsxs(x.Fragment,{children:[a&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:s}),x.jsxs("div",{className:`\n                fixed md:static inset-y-0 left-0 z-50\n                w-72 bg-white shadow-xl\n                transform transition-transform duration-300 ease-in-out\n                ${a?"translate-x-0":"-translate-x-full md:translate-x-0"}\n                flex flex-col h-full\n            `,children:[x.jsxs("div",{className:"p-6 border-b border-gray-100",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"UGC Creators"}),x.jsx("button",{onClick:s,className:"md:hidden text-gray-400 hover:text-gray-600",children:"✕"})]}),x.jsx("p",{className:"text-sm text-gray-600 mt-1",children:f.COMPANY_NAME})]}),x.jsxs("div",{className:"p-6",children:[x.jsx("div",{className:"flex items-center space-x-3",children:x.jsx(M,{size:"md"})}),x.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Bienvenido de nuevo"})]}),x.jsx("nav",{className:"flex-1 px-4 space-y-2",children:d.map(t=>x.jsxs("button",{onClick:()=>{return e=t.id,null==r||r(e),void(null==s||s());var e},className:`\n                                w-full text-left px-4 py-3 rounded-xl font-medium\n                                transition-all duration-200 flex items-center space-x-3\n                                ${e===t.id?"bg-purple-100 text-purple-700 shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}\n                            `,children:[x.jsx("span",{className:"text-lg",children:t.icon}),x.jsx("span",{children:t.label})]},t.id))}),x.jsxs("div",{className:"p-4 border-t border-gray-100 space-y-3",children:[x.jsxs("button",{onClick:async()=>{if(!l){c(!0);try{await i()}catch(e){c(!1)}}},disabled:l,className:`\n                            w-full flex items-center space-x-3 px-4 py-3 rounded-xl\n                            font-medium transition-all duration-200\n                            ${l?"bg-gray-100 text-gray-400 cursor-not-allowed":"text-red-600 hover:bg-red-50 hover:text-red-700"}\n                        `,children:[x.jsx("span",{className:"text-lg",children:""}),x.jsx("span",{children:l?"Cerrando sesión...":"Cerrar Sesión"})]}),x.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["v",f.APP_VERSION]})]})]})]})};r.lazy(()=>i(()=>import("./index-Boxve2f-.js"),__vite__mapDeps([0,1,2])).then(e=>({default:e.DashboardPage}))),r.lazy(()=>i(()=>import("./index-TZShUO9a.js"),__vite__mapDeps([3,1,2])).then(e=>({default:e.CreatorsPage}))),r.lazy(()=>i(()=>import("./index-DHXZ1Rlu.js"),__vite__mapDeps([4,1])).then(e=>({default:e.BrandsPage}))),r.lazy(()=>Promise.resolve({default:()=>{const{ComingSoon:e}=require("./modules/brands/components/index.js");return r.createElement(e,{module:"Usuarios",icon:"⚙️"})}}));class z extends r.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?x.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:x.jsxs($.Card,{className:"p-8 text-center max-w-md",children:[x.jsx("div",{className:"text-4xl mb-4",children:"⚠️"}),x.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error inesperado"}),x.jsx("p",{className:"text-gray-600 mb-4",children:"La aplicación ha encontrado un error inesperado."}),x.jsxs("div",{className:"space-y-3",children:[x.jsx($.Button,{variant:"primary",onClick:()=>window.location.reload(),className:"w-full",children:"Recargar Aplicación"}),f.DEBUG]})]})}):this.props.children}}const F=()=>{const{user:e,loading:a,isAuthenticated:s}=_(),[n,o]=t.useState(()=>b.get("currentPage","dashboard")),[l,c]=t.useState(!1);t.useEffect(()=>{b.set("currentPage",n)},[n]);const d=e=>{o(e),c(!1)};return a?r.createElement(k):s?x.jsxs(x.Fragment,{children:[f.IS_DEVELOPMENT,x.jsxs("div",{className:"flex h-screen bg-gray-50",children:[x.jsx(B,{currentPage:n,onNavigate:d,isMobileOpen:l,onMobileClose:()=>c(!1)}),x.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[x.jsx("div",{className:"md:hidden bg-white border-b border-gray-200 p-4",children:x.jsx("button",{onClick:()=>c(!0),className:"text-gray-600 hover:text-gray-900",children:x.jsx("span",{className:"text-xl",children:"☰"})})}),x.jsx("main",{className:"flex-1 overflow-auto",children:x.jsx(r.Suspense,{fallback:x.jsx("div",{className:"flex-1 bg-gray-50 overflow-auto p-8",children:x.jsx("div",{className:"flex items-center justify-center min-h-96",children:x.jsxs("div",{className:"text-center",children:[x.jsx($.Spinner,{size:"xl",className:"mx-auto mb-4"}),x.jsx("p",{className:"text-gray-600",children:"Cargando..."})]})})}),children:(()=>{switch(n){case"dashboard":return r.createElement(r.lazy(()=>i(()=>import("./index-Boxve2f-.js"),__vite__mapDeps([0,1,2])).then(e=>({default:e.DashboardPage}))),{onNavigate:d});case"creators":return r.createElement(r.lazy(()=>i(()=>import("./index-TZShUO9a.js"),__vite__mapDeps([3,1,2])).then(e=>({default:e.CreatorsPage}))));case"brands":return r.createElement(r.lazy(()=>i(()=>import("./index-DHXZ1Rlu.js"),__vite__mapDeps([4,1])).then(e=>({default:e.BrandsPage}))));case"users":const{ComingSoon:e}=require("./modules/brands/components/index.js");return r.createElement(e,{module:"Usuarios",icon:"⚙️"});default:return o("dashboard"),null}})()})})]})]})]}):r.createElement(U)},K=({children:e})=>{const[a,s]=t.useState(!1),[n,i]=t.useState(null);return t.useEffect(()=>{(async()=>{try{window.addEventListener("unhandledrejection",e=>{});const e=document.getElementById("initial-loader");e&&(e.style.display="none"),document.body.classList.add("app-loaded"),document.title=`${f.APP_NAME} - ${f.COMPANY_NAME}`,await new Promise(e=>setTimeout(e,100)),s(!0)}catch(e){i(e.message)}})()},[]),n?x.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:x.jsxs($.Card,{className:"p-8 text-center max-w-md",children:[x.jsx("div",{className:"text-4xl mb-4",children:"⚠️"}),x.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error de Inicialización"}),x.jsx("p",{className:"text-gray-600 mb-4",children:"No se pudo inicializar la aplicación correctamente."}),x.jsx($.Button,{variant:"primary",onClick:()=>window.location.reload(),className:"w-full",children:"Recargar Página"}),f.DEBUG]})}):a?e:r.createElement(k)},V=()=>x.jsx(z,{children:x.jsx(K,{children:x.jsx(S,{children:x.jsx(F,{})})})});window.AppInfo={version:f.APP_VERSION,environment:f.NODE_ENV,debug:f.DEBUG,features:f.FEATURES,navigate:e=>{const t=new CustomEvent("navigate",{detail:{page:e}});window.dispatchEvent(t)},clearStorage:()=>{b.clear()},getCurrentUser:()=>b.get("authToken")?"Authenticated":"Not authenticated",restart:()=>{b.clear(),window.location.reload()}};const G=()=>{try{if(!window.React&&void 0===r)throw new Error("React no está disponible");const e=document.getElementById("root");if(!e)throw new Error("Root element not found");a.createRoot(e).render(r.createElement(f.IS_DEVELOPMENT?r.StrictMode:r.Fragment,{},r.createElement(V))),H(),Y(),setTimeout(()=>{const e=document.getElementById("initial-loader");e&&(e.style.opacity="0",setTimeout(()=>{e.style.display="none"},300))},500)}catch(e){W(e)}},H=()=>{window.addEventListener("error",e=>{e.error}),window.addEventListener("unhandledrejection",e=>{e.reason}),window.addEventListener("error",e=>{e.target!==window&&new Error(`Resource failed to load: ${e.target.src||e.target.href}`)},!0)},Y=()=>{let e;document.addEventListener("visibilitychange",()=>{}),window.addEventListener("online",()=>{q("online")}),window.addEventListener("offline",()=>{q("offline")}),window.addEventListener("beforeunload",e=>{}),window.addEventListener("resize",()=>{clearTimeout(e),e=setTimeout(()=>{},250)})},q=e=>{const t=document.createElement("div");t.className=`\n        fixed top-4 right-4 z-50 px-4 py-2 rounded-lg shadow-lg text-white text-sm font-medium\n        ${"online"===e?"bg-green-500":"bg-red-500"}\n        transition-all duration-300 transform translate-x-full\n    `,t.textContent="online"===e?"🟢 Conexión restaurada":"🔴 Sin conexión a internet",document.body.appendChild(t),setTimeout(()=>{t.style.transform="translateX(0)"},100),setTimeout(()=>{t.style.transform="translateX(100%)",setTimeout(()=>{document.body.removeChild(t)},300)},3e3)},W=e=>{(document.getElementById("root")||document.body).innerHTML='\n        <div style="\n            min-height: 100vh; \n            display: flex; \n            align-items: center; \n            justify-content: center; \n            background: #f9fafb;\n            font-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, sans-serif;\n            padding: 20px;\n        ">\n            <div style="\n                background: white; \n                border-radius: 12px; \n                padding: 32px; \n                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n                text-align: center;\n                max-width: 400px;\n                width: 100%;\n            ">\n                <div style="font-size: 48px; margin-bottom: 16px;">⚠️</div>\n                <h2 style="color: #1f2937; margin-bottom: 8px; font-size: 20px; font-weight: 600;">\n                    Error de Inicialización\n                </h2>\n                <p style="color: #6b7280; margin-bottom: 16px; font-size: 14px;">\n                    No se pudo cargar la aplicación correctamente.\n                </p>\n                <button \n                    onclick="window.location.reload()" \n                    style="\n                        background: #9333ea; \n                        color: white; \n                        border: none; \n                        padding: 12px 24px; \n                        border-radius: 8px; \n                        cursor: pointer;\n                        font-weight: 500;\n                        font-size: 14px;\n                        width: 100%;\n                        margin-bottom: 12px;\n                    "\n                >\n                    Recargar Página\n                </button>\n                \n            </div>\n        </div>\n    ';const t=document.getElementById("initial-loader");t&&(t.style.display="none")};(()=>{try{(()=>{const e=["Promise","fetch","localStorage","addEventListener"].filter(e=>!(e in window));if(e.length>0)throw new Error(`Browser not supported. Missing features: ${e.join(", ")}`)})(),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",G):G()}catch(e){W(e)}})();export{$ as U,E as a,f as c,L as f,x as j,y as l,b as s,O as u};
